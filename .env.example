# Environment: development | testing | production
ENVIRONMENT=development

# Telegram Bot Token from @BotFather
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Telegram Webhook Configuration (optional)
# Leave empty or unset to use polling mode instead
# TELEGRAM_WEBHOOK_URL=https://your-domain.com/webhook
# TELEGRAM_WEBHOOK_PORT=8443
# TELEGRAM_WEBHOOK_SECRET_TOKEN=your_secret_token_here

# Admin Configuration (optional)
# Comma-separated list of Telegram user IDs with admin privileges
# Get your user ID from @userinfobot
# Leave empty to disable admin interface
# ADMIN_USER_IDS=123456789,987654321

# OpenAI API Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo
OPENAI_MAX_TOKENS=4096

# Logging level: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# PostgreSQL Database URL (required)
DATABASE_URL=postgresql://user:password@localhost:5432/database_name

# Qdrant Vector Database Configuration
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=football_documents

# Embedding Configuration
EMBEDDING_MODEL=intfloat/multilingual-e5-large
EMBEDDING_BATCH_SIZE=100
TOP_K_RETRIEVALS=3
SIMILARITY_THRESHOLD=0.7
# Dynamic RAG threshold: if set, use max(best_score * (1 - margin), SIMILARITY_THRESHOLD)
# If not set, only static SIMILARITY_THRESHOLD is used
# Example: 0.15 means chunks must be within 15% of best score (optional)
RAG_DYNAMIC_THRESHOLD_MARGIN=

# Document Lookup Tool Configuration (for LLM-based document selection)
# Enable/disable the document selection tool that lets the LLM choose which documents to search
ENABLE_DOCUMENT_SELECTION=true

# Maximum number of times the LLM can call the document lookup tool per request (1-20)
MAX_DOCUMENT_LOOKUPS=5

# Maximum number of chunks returned per lookup tool call (1-20)
LOOKUP_MAX_CHUNKS=5

# Require LLM to use document lookup tool (if false, falls back to standard RAG if tool not used)
REQUIRE_TOOL_USE=false
